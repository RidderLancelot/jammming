{"ast":null,"code":"const clientId = \"de8c5edcc39e4f3da974e2e22fe51915\";\nconst redirectUri = window.location.origin;\nlet accessToken;\nconst Spotify = {\n  getAccessToken() {\n    if (accessToken) {\n      return accessToken;\n    }\n    // Check for access token in URL\n    const hash = window.location.hash;\n    if (hash) {\n      const params = new URLSearchParams(hash.substring(1));\n      const token = params.get('access_token');\n      if (token) {\n        accessToken = token;\n        window.location.hash = '';\n        return accessToken;\n      }\n    }\n    // Redirect to Spotify authorization\n    const authUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&scope=user-read-private&redirect_uri=${encodeURIComponent(redirectUri)}`;\n    window.location = authUrl;\n  },\n  async searchTracks(query) {\n    const token = this.getAccessToken();\n    if (!token) return [];\n    const q = encodeURIComponent(query);\n    const response = await fetch(`https://api.spotify.com/v1/search?q=${q}&type=track&limit=5`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    if (data.tracks && data.tracks.items) {\n      return data.tracks.items.map(track => ({\n        id: track.id,\n        name: track.name,\n        artists: track.artists.map(a => a.name),\n        album: track.album.name\n      }));\n    }\n    return [];\n  }\n};\nexport default Spotify;","map":{"version":3,"names":["clientId","redirectUri","window","location","origin","accessToken","Spotify","getAccessToken","hash","params","URLSearchParams","substring","token","get","authUrl","encodeURIComponent","searchTracks","query","q","response","fetch","headers","Authorization","data","json","tracks","items","map","track","id","name","artists","a","album"],"sources":["/Users/lancelotraavig/Desktop/Coding/Websites/CodeCademy/Portfolio/jammming/src/Javascript/Spotify.js"],"sourcesContent":["const clientId = \"de8c5edcc39e4f3da974e2e22fe51915\";\nconst redirectUri = window.location.origin;\nlet accessToken;\n\nconst Spotify = {\n  getAccessToken() {\n    if (accessToken) {\n      return accessToken;\n    }\n    // Check for access token in URL\n    const hash = window.location.hash;\n    if (hash) {\n      const params = new URLSearchParams(hash.substring(1));\n      const token = params.get('access_token');\n      if (token) {\n        accessToken = token;\n        window.location.hash = '';\n        return accessToken;\n      }\n    }\n    // Redirect to Spotify authorization\n    const authUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&response_type=token&scope=user-read-private&redirect_uri=${encodeURIComponent(redirectUri)}`;\n    window.location = authUrl;\n  },\n\n  async searchTracks(query) {\n    const token = this.getAccessToken();\n    if (!token) return [];\n    const q = encodeURIComponent(query);\n    const response = await fetch(`https://api.spotify.com/v1/search?q=${q}&type=track&limit=5`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      }\n    });\n    const data = await response.json();\n    if (data.tracks && data.tracks.items) {\n      return data.tracks.items.map(track => ({\n        id: track.id,\n        name: track.name,\n        artists: track.artists.map(a => a.name),\n        album: track.album.name\n      }));\n    }\n    return [];\n  }\n};\n\nexport default Spotify;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,kCAAkC;AACnD,MAAMC,WAAW,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM;AAC1C,IAAIC,WAAW;AAEf,MAAMC,OAAO,GAAG;EACdC,cAAcA,CAAA,EAAG;IACf,IAAIF,WAAW,EAAE;MACf,OAAOA,WAAW;IACpB;IACA;IACA,MAAMG,IAAI,GAAGN,MAAM,CAACC,QAAQ,CAACK,IAAI;IACjC,IAAIA,IAAI,EAAE;MACR,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAACF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC,CAAC;MACrD,MAAMC,KAAK,GAAGH,MAAM,CAACI,GAAG,CAAC,cAAc,CAAC;MACxC,IAAID,KAAK,EAAE;QACTP,WAAW,GAAGO,KAAK;QACnBV,MAAM,CAACC,QAAQ,CAACK,IAAI,GAAG,EAAE;QACzB,OAAOH,WAAW;MACpB;IACF;IACA;IACA,MAAMS,OAAO,GAAG,oDAAoDd,QAAQ,6DAA6De,kBAAkB,CAACd,WAAW,CAAC,EAAE;IAC1KC,MAAM,CAACC,QAAQ,GAAGW,OAAO;EAC3B,CAAC;EAED,MAAME,YAAYA,CAACC,KAAK,EAAE;IACxB,MAAML,KAAK,GAAG,IAAI,CAACL,cAAc,CAAC,CAAC;IACnC,IAAI,CAACK,KAAK,EAAE,OAAO,EAAE;IACrB,MAAMM,CAAC,GAAGH,kBAAkB,CAACE,KAAK,CAAC;IACnC,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,uCAAuCF,CAAC,qBAAqB,EAAE;MAC1FG,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUV,KAAK;MAChC;IACF,CAAC,CAAC;IACF,MAAMW,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAClC,IAAID,IAAI,CAACE,MAAM,IAAIF,IAAI,CAACE,MAAM,CAACC,KAAK,EAAE;MACpC,OAAOH,IAAI,CAACE,MAAM,CAACC,KAAK,CAACC,GAAG,CAACC,KAAK,KAAK;QACrCC,EAAE,EAAED,KAAK,CAACC,EAAE;QACZC,IAAI,EAAEF,KAAK,CAACE,IAAI;QAChBC,OAAO,EAAEH,KAAK,CAACG,OAAO,CAACJ,GAAG,CAACK,CAAC,IAAIA,CAAC,CAACF,IAAI,CAAC;QACvCG,KAAK,EAAEL,KAAK,CAACK,KAAK,CAACH;MACrB,CAAC,CAAC,CAAC;IACL;IACA,OAAO,EAAE;EACX;AACF,CAAC;AAED,eAAexB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}